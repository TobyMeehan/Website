<AuthorizeView>
    <InputComment User="User" Entity="Entity" Placeholder="Add a comment" OnSubmit="OnCommentAdded">
        <SubmitButton>Comment</SubmitButton>
    </InputComment>
</AuthorizeView>

<hr />

<ul class="list-unstyled">
    @foreach (var comment in Comments)
    {
        <CommentThread Comment="comment.Key" Replies="comment.Value" User="User" OnCommentAdded="OnCommentAdded" OnCommentChanged="OnCommentChanged" OnCommentDeleted="OnCommentDeleted"></CommentThread>
    }
</ul>

@code {
    [Parameter] public User User { get; set; }
    [Parameter] public IDictionary<Comment, IEnumerable<Comment>> Comments { get; set; }
    [Parameter] public EntityBase Entity { get; set; }

    [Parameter] public EventCallback<CommentViewModel> OnCommentAdded { get; set; }
    [Parameter] public EventCallback<CommentViewModel> OnCommentChanged { get; set; }
    [Parameter] public EventCallback<Comment> OnCommentDeleted { get; set; }

}
